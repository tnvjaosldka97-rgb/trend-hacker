# Stock Influencer Hub - TODO

## Phase 43: 전문가 신뢰도 시스템 구축 (오늘 완료)

### 1. 데이터베이스 스키마 확장
- [x] expertAccuracy 테이블 추가 (전문가별 정확도)
- [x] predictions 테이블 추가 (예측 기록)
- [x] predictionResults 테이블 추가 (예측 결과 검증)
- [x] 스키마 마이그레이션 실행

### 2. 500명 글로벌 전문가 리스트
- [x] TOP 50 실시간용 리스트 생성
- [x] 500명 글로벌 풀 리스트 생성
- [x] 카테고리별 분류 (펜드매니저, 애널리스트 등)
- [x] 한국 유튜버 30명 포함
- [x] UI에 500+ 표시 변경

### 3. 정확도 계산 시스템
- [x] 예측 vs 실제 결과 비교 로직
- [x] 신뢰도 등급 자동 계산 (S/A/B/C/D)
- [x] 가중치 계산 로직 (S=2.0x, A=1.5x, B=1.2x)
- [x] DB 헬퍼 함수 추가

### 4. UI 구현
- [x] tRPC API 엔드포인트 추가
- [ ] 종목 카드에 신뢰도 등급 표시 (데이터 수집 후)
- [ ] 가중치 컨센서스 계산 및 표시 (데이터 수집 후)
- [ ] 전문가 프로필 페이지 생성 (데이터 수집 후)

### 5. 백테스팅 대시보드
- [ ] 30일 성과 대시보드 (데이터 축적 후)
- [ ] 승률 및 평균 수익률 표시 (데이터 축적 후)

### 6. 자동화 시스템
- [x] 매일 정확도 업데이트 스크립트 생성
- [x] 자동 퇴출 로직 (60% 미만)
- [ ] 크론잡 설정 (선택사항)

### 7. 테스트 및 배포
- [ ] 전체 기능 테스트
- [ ] 체크포인트 저장

---

## 이전 작업 (완료)

### Phase 41: UI 개선 - 모든 전문가 의견 표시 + 귀여운 캐릭터
- [x] 메인 화면에서 "트윗 종목" 섹션 제거
- [x] 귀여운 후드티 입은 IT 고수 캐릭터 생성
- [x] 히어로 섹션에 캐릭터 배치
- [x] 각 종목 카드에 "모두 보기" 버튼 추가
- [x] 클릭 시 전체 트윗 타임라인 펼치기/접기 UI 구현
- [ ] 각 트윗마다 전문가 이름, 시간, 원문 링크 표시 (백엔드 연동 필요)
- [ ] tRPC 라우터 수정 - 종목별 모든 트윗 반환 (백엔드 작업)

### Phase 42: 헤더 디자인 개선
- [x] 로고와 캐릭터를 한 줄로 깔끔하게 정렬
- [x] LAST UPDATE / NEXT UPDATE 레이아웃 개선
- [x] 불필요한 텍스트 제거
- [x] 여백과 간격 최적화
- [x] 전체적인 시각적 균형 조정


## Phase 44: 전문가 프로필 페이지 및 인포그래픽 구현

### 1. 전문가 프로필 페이지
- [x] `/expert/:id` 라우팅 추가
- [x] 전문가 기본 정보 표시 (이름, 소속, 팔로워 등)
- [x] 신뢰도 등급 배지 (S/A/B/C/D)
- [x] 예측 정확도 통계 (전체/30일/90일)
- [x] 최근 트윗/컨텐츠 리스트
- [x] tRPC API 엔드포인트 추가 (getPredictions)

### 2. 백테스팅 결과 시각화
- [x] 승률 표시 (프로그레스 바)
- [x] 정확도 분포 (전체/30일/90일)

### 3. 신뢰도 등급 인포그래픽
- [x] S/A/B/C/D 등급 시각적 표현
- [x] 가중치 설명 (2.0x, 1.5x 등)
- [x] 등급별 색상 구분 (그라데이션)
- [x] 별 아이콘 표시

### 4. 데이터 수집 후 구현 예정
- [ ] 과거 예측 기록 타임라인 (데이터 수집 후)
- [ ] 종목별 성과 테이블 (데이터 수집 후)
- [ ] 종목 카드에 신뢰도 표시 (데이터 수집 후)
- [ ] 가중치 컨센서스 계산 (데이터 수집 후)

### 5. 테스트 및 배포
- [ ] 전체 기능 테스트
- [ ] 체크포인트 저장


## Phase 45: 15분 자동 수집 스케줄러

- [x] Node.js 스케줄러 구현 (node-cron)
- [x] 15분마다 TOP 50 전문가 데이터 수집
- [x] 서버 시작 시 자동 실행
- [x] 로그 출력 구현
- [x] 테스트 및 체크포인트


## Phase 46: 주식 언급 순위 및 의견 비율 시각화

- [x] 데이터베이스 쿼리 함수 추가 (가장 많이 언급된 주식)
- [x] 주식별 감성 비율 계산 (bullish/bearish/neutral)
- [x] tRPC API 엔드포인트 추가
- [x] TOP 10 주식 순위 UI 구현
- [x] 의견 비율 차트 (파이 차트 + 프로그레스 바)
- [x] 실시간/오늘/주간 탭별 데이터 분리
- [x] 테스트 및 체크포인트


## Phase 47: 로딩 애니메이션 및 스켈레톤 UI 개선

- [x] StockRanking 컴포넌트 스켈레톤 UI 개선
- [x] 메인 페이지 빈 상태 UI 개선
- [x] 펄스 애니메이션 추가
- [x] 로딩 텍스트 및 아이콘 개선
- [x] 테스트 및 체크포인트


## Phase 48: 프로젝트 이름을 'trendhacker'로 변경

- [x] package.json 이름 변경
- [x] 프로젝트 설명 업데이트
- [x] 체크포인트 저장


## Phase 49: 트렌드 해커 로고 생성 및 추가

- [ ] 사이버펑크/해커 스타일 로고 이미지 생성
- [ ] 로고 파일을 public 폴더에 저장
- [ ] 헤더에 로고 적용
- [ ] 파비콘 업데이트
- [ ] 체크포인트 저장


## Phase 49: 업데이트 시간 초기화 문제 수정 + 로고 추가 + Vercel 배포

- [x] 업데이트 시간을 DB에 저장하여 서버 재시작 시에도 유지
- [x] 트렌드 해커 로고 이미지 생성
- [x] 로고 파일 저장 및 웹사이트에 적용
- [x] 파비콘 업데이트
- [x] 체크포인트 저장
- [x] Vercel 배포 안내


## Phase 50: 데이터 수집 간격을 5분으로 단축

- [x] 스케줄러 cron 표현식을 5분 간격으로 변경
- [x] 프론트엔드 타이머 간격 5분으로 조정
- [x] realtime 필터 시간 범위 5분으로 조정
- [x] 체크포인트 저장


## Phase 51: 잘못된 티커 데이터 필터링

- [x] 티커 유효성 검증 함수 추가 (길이, 형식 체크)
- [x] 데이터 수집 스크립트에 필터링 로직 적용
- [x] 데이터베이스에서 잘못된 티커 제거
- [x] 데이터 수집 재실행 (API rate limit 대기 중)
- [x] 체크포인트 저장


## Phase 52: 데이터 수집 간격을 3분으로 단축

- [x] 스케줄러 cron 표현식을 3분 간격으로 변경
- [x] 프론트엔드 타이머 간격 3분으로 조정
- [x] realtime 필터 시간 범위 3분으로 조정
- [x] UI 텍스트 "5분" → "3분"으로 변경
- [x] 체크포인트 저장


## Phase 53: 오늘(24H) 탭에 주간 HOT 종목 섹션 추가

- [x] HotStocks 컴포넌트 생성 (상위 5개 종목 카드 형태)
- [x] 주간 데이터 기반 TOP 5 추출 로직
- [x] 오늘 탭에 HOT 종목 섹션 배치
- [x] 시각적 강조 효과 (불꽃 아이콘, 그라데이션 배경)
- [x] 체크포인트 저장


## Phase 54: Vercel 배포 가이드 작성

- [x] Vercel 배포 단계별 가이드 문서 작성
- [x] 필요한 환경변수 전체 리스트 작성
- [x] 데이터베이스 연결 설정 방법 설명
- [x] 문제 해결 가이드 추가
- [x] 가이드 문서 전달


## Phase 55: 타이머 0초 초기화 문제 수정

- [x] 서버에서 실제 다음 수집 시간 반환하도록 수정
- [x] 프론트엔드에서 서버 시간 기준으로 타이머 계산
- [x] 유저 접속 시 실제 남은 시간 표시
- [x] 테스트 및 체크포인트 저장


## Phase 56: 모바일 반응형 UI 개선

- [ ] 헤더 및 로고 모바일 최적화
- [ ] 통계 카드 그리드 반응형 수정
- [ ] 탭 버튼 모바일 레이아웃 개선
- [ ] TOP 10 종목 카드 모바일 최적화
- [ ] HOT 종목 섹션 모바일 레이아웃
- [ ] 텍스트 크기 및 간격 조정
- [ ] 테스트 및 체크포인트 저장


## Phase 57: Manus 백엔드 + Vercel 프론트엔드 분리 배포

### 1. 백엔드 독립 실행 설정
- [x] CORS 설정 추가 (Vercel 도메인 허용)
- [x] cors 패키지 설치
- [x] 환경변수 분리 (백엔드용)

### 2. 프론트엔드 Vercel 배포 설정
- [x] Vercel 빌드 설정 파일 작성 (vercel.json)
- [x] 프론트엔드 환경변수 설정 (.env.vercel.example)
- [x] API URL 환경변수로 분리 (VITE_API_URL)

### 3. 배포 가이드 문서
- [x] Manus 백엔드 배포 가이드
- [x] Vercel 프론트엔드 배포 가이드
- [x] 환경변수 설정 가이드
- [x] CORS 설정 가이드
- [x] 문제 해결 가이드
- [x] 문서 전달 (DEPLOYMENT_GUIDE.md)


## Phase 58: 데이터 수집 5분 간격 + 투자 퀴즈 기능

### 1. 데이터 수집 간격 변경
- [x] 스케줄러 3분 → 5분으로 변경
- [x] API 호출 간격 5초 → 10초로 증가
- [ ] 재시도 로직 추가 (429 에러 시 30초 대기)
- [x] 프론트엔드 타이머 5분으로 조정

### 2. 투자 퀴즈 컴포넌트
- [x] 퀴즈 데이터 30개 작성 (테슬라 vs 삼성 등)
- [x] 랜덤 퀴즈 선택 로직
- [x] 투표 UI 컴포넌트
- [x] 결과 표시 애니메이션

### 3. 대기 중 UI 통합
- [x] 로딩 상태에서 퀴즈 표시
- [x] 3개 퀴즈 랜덤 로테이션
- [x] 투표 결과 로컬 저장

### 4. 테스트 및 배포
- [x] 5분 간격 테스트
- [x] 퀴즈 UI 테스트
- [ ] 체크포인트 저장

## Phase 59: 한국 유튜버 채널 추가 및 YouTube 데이터 수집

### 1. 현재 데이터 수집 상태 확인
- [ ] 현재 수집 중인 인플루언서 목록 확인
- [ ] 데이터베이스에 저장된 데이터 개수 확인
- [ ] Twitter vs YouTube 수집 방식 결정

### 2. 한국 유튜버 채널 30개 추가
- [ ] 소수몽키
- [ ] 미국주식으로 부자되기(미주부)
- [ ] 내일은 투자왕(김단테)
- [ ] 올랜도 킴
- [ ] 피터리(PIETER LEE)
- [ ] 앨런투자연구소
- [ ] 박곰희TV
- [ ] 미국주식탐구생활
- [ ] 투자로그TILOG
- [ ] 투자읽어주는남자(박성현)
- [ ] 배당개미TV
- [ ] 현명한 주식투자
- [ ] 돈길만걷자TV
- [ ] 미국ETF연구소
- [ ] 세금읽어주는남자
- [ ] 워런한국인(워런킴)
- [ ] 주린이탈출가이드
- [ ] 쌀람이TV
- [ ] 미국배당일기
- [ ] 배당천국TV
- [ ] 해외주식탐험대
- [ ] 미주성장탐험가
- [ ] 테슬라리서치TV
- [ ] 실전미국주식연구소
- [ ] 키워드인베스터
- [ ] 로지컬인베스트
- [ ] 미국ETF탐험대
- [ ] 버핏로그
- [ ] 스타인베스트
- [ ] 리얼미국투자TV

### 3. YouTube 데이터 수집 시스템
- [ ] YouTube Channel ID 수집
- [ ] YouTube API 연동 스크립트 작성
- [ ] 채널별 최신 영상 수집
- [ ] 영상 제목/설명에서 종목 추출
- [ ] 감성 분석 (긍정/부정/중립)

### 4. 스케줄러 통합
- [ ] 3분마다 YouTube 데이터 수집
- [ ] Twitter + YouTube 통합 랭킹
- [ ] 테스트 및 검증


## Phase 60: Vercel 배포 URL 및 타이머 수정

### 1. Vercel 환경변수 업데이트
- [ ] VITE_API_URL을 3001 포트로 변경
- [ ] Vercel 재배포

### 2. 타이머 초기화 문제 수정
- [x] 서버에서 실제 다음 업데이트 시간 반환 (5분 간격)
- [x] 프론트엔드에서 Date.now() 기준으로 타이머 계산
- [x] 페이지 새로고침 시에도 타이머 유지

### 3. GitHub 푸시 및 배포
- [ ] 변경사항 커밋
- [ ] GitHub 푸시
- [ ] Vercel 재배포 확인


## Phase 61: Vercel 500 에러 수정 + 일간 탭 개선 + 즉시 데이터 반영

### 1. Vercel 500 에러 수정
- [ ] Vercel 배포 로그 확인
- [ ] 환경변수 누락 확인
- [ ] 빌드 에러 수정

### 2. 일간 탭 전문가별 의견 상세 표시
- [ ] 종목 카드에 "더보기" 버튼 추가
- [ ] 전문가별 트윗 리스트 표시 (이름, 시간, 내용, 링크)
- [ ] 상승/하락 예측 이유 표시
- [ ] tRPC API 엔드포인트 추가 (getTweetsByTicker)

### 3. 5분마다 크롤링 데이터 즉시 반영
- [ ] 스케줄러 완료 시 즉시 DB 업데이트
- [ ] 프론트엔드 자동 새로고침 로직 개선
- [ ] 타이머 0초 도달 시 강제 리페치

### 4. 테스트 및 배포
- [ ] 전체 기능 테스트
- [ ] GitHub 푸시
- [ ] Vercel 재배포
- [ ] 체크포인트 저장


## Phase 62: 전문가 의견 로딩 문제 수정 + 오늘 탭 00시 기준 변경

### 1. 전문가 의견 로딩 문제 수정
- [ ] TweetsList 컴포넌트 데이터 로딩 확인
- [ ] API 엔드포인트 동작 확인
- [ ] 실제 데이터 표시 테스트

### 2. 오늘 탭을 00시 기준으로 변경
- [x] getTodayTrending 함수 수정 (최근 24시간 → 오늘 00시부터)
- [ ] 자정 넘어가면 자동으로 데이터 초기화
- [ ] UI 텍스트 업데이트

### 3. 테스트 및 배포
- [ ] 전체 기능 테스트
- [ ] 체크포인트 저장
- [ ] GitHub 푸시


## Phase 63: 데이터 소스 확장 및 Rate Limit 근본 해결

### 1. Twitter Rate Limit 근본 해결
- [x] API 호출 간격 120초로 대폭 증가
- [x] 429 에러 발생 시 자동 재시도 로직 (exponential backoff)
- [x] 에러 로깅 및 모니터링
- [ ] 하루 1번 크롤링으로 변경 (실시간 포기)

### 2. YouTube 데이터 소스 추가
- [x] 주식 전문가 YouTube 채널 리스트 작성
- [x] YouTube API 연동 스크립트 작성
- [x] 최신 영상 제목/설명에서 종목 추출
- [x] 감성 분석 및 DB 저장

### 3. Reddit 데이터 소스 추가
- [ ] r/wallstreetbets, r/stocks 서브레딧 크롤링
- [ ] 핫한 게시물에서 종목 추출
- [ ] 감성 분석 및 DB 저장

### 4. 크롤링 테스트 및 데이터 수집
- [x] Twitter 크롤링 테스트 (120초 간격) - Rate Limit 문제로 실패
- [x] YouTube 크롤링 테스트 - Rate Limit 문제로 실패
- [ ] Reddit 크롤링 테스트
- [ ] 전문가 의견 UI에 데이터 표시 확인

### 5. 체크포인트 저장 및 배포
- [ ] 전체 기능 테스트
- [ ] 체크포인트 저장
- [ ] GitHub 푸시


## Phase 64: 실시간 탭 제거 및 오늘/주간/월간 탭으로 변경

### 1. UI 변경
- [x] 실시간 탭 제거
- [x] 오늘 / 주간 / 월간 탭으로 변경
- [x] "분마다 업데이트" → "매일 업데이트" 텍스트 변경
- [x] 타이머 제거 (매일 업데이트로 변경)

### 2. 백엔드 API 변경
- [x] getRealtimeTrending 제거
- [x] getTodayTrending, getWeeklyTrending, getMonthlyTrending 추가
- [x] 월간 데이터 필터 로직 추가

### 3. 크롤링 스케줄러 변경
- [x] 실시간 스케줄러 제거
- [x] 하루 1번 크롤링 (새벽 3시)
- [x] 크롤링 간격 180초로 설정
- [x] Twitter + YouTube 통합 크롤링

### 4. 테스트 및 배포
- [ ] 전체 기능 테스트
- [ ] 체크포인트 저장
- [ ] GitHub 푸시


---

## Phase 65: 티커 표시 기능 구현 (주린이 친화)

### 1. DB 스키마 확장
- [ ] stocks 테이블 생성 (ticker, name, logo_url, category, exchange)
- [ ] 기존 stockTweets 테이블과 연결

### 2. 종목 정보 자동 수집
- [ ] Yahoo Finance API 연동
- [ ] 크롤링 시 종목 정보 자동 업데이트
- [ ] 종목 로고 이미지 수집 및 S3 저장

### 3. UI 개선
- [ ] 모든 티커 옆에 회사명 표시 ($AAPL → $AAPL (Apple Inc.))
- [ ] 종목 카드에 회사 로고 표시
- [ ] 카테고리 뱃지 추가 (Tech, Finance, Healthcare 등)

---

## Phase 66: ETF 보유종목 검색 서비스 구현

### 1. DB 스키마 확장
- [ ] etf_holdings 테이블 생성 (etf_ticker, stock_ticker, weight, shares)
- [ ] user_portfolios 테이블 생성 (user_id, ticker, shares, is_etf)
- [ ] watchlists 테이블 생성 (user_id, ticker)

### 2. ETF 데이터 수집
- [ ] FactSet / Morningstar API 연동 (또는 SEC EDGAR 크롤링)
- [ ] ETF 보유종목 데이터 수집 스크립트 작성
- [ ] 주기적 업데이트 스케줄러 (주 1회)

### 3. ETF 검색 기능
- [ ] ETF 검색 API 구현
- [ ] ETF 보유종목 TOP 10 조회 API
- [ ] ETF 검색 페이지 UI 개발

### 4. 포트폴리오 분석 기능
- [ ] 사용자 포트폴리오 입력 UI
- [ ] 중복 종목 분석 알고리즘 구현
- [ ] 섹터별 분산 분석
- [ ] 차트 시각화 (파이 차트, 바 차트)

---

## Phase 67-71: AI 리포트 구독 시스템 구축 완료

### 1. 구독 시스템 구축
- [x] subscriptions 테이블 생성 (user_id, plan, status, stripe_subscription_id)
- [x] 구독 플랜 관리 API 구현
- [x] 무료 7일 체험 자동 생성
- [x] 모바일 접속 차단 (Free 플랜)
- [x] 구독 페이지 UI (Free / Pro / Premium)
- [ ] Stripe 결제 연동 (향후)

### 2. AI 리포트 생성 시스템
- [x] aiReports 테이블 생성
- [x] Pro 플랜 리포트 생성 로직 (TOP 5 종목, 1-2페이지)
- [x] Premium 플랜 리포트 생성 로직 (TOP 10 종목, 3-5페이지)
- [x] LLM 기반 리포트 생성
- [x] Markdown 포맷 리포트
- [x] DB 저장 및 조회 API
- [ ] PDF 생성 기능 (향후)
- [ ] 이메일 발송 자동화 (향후)

### 3. 자동 스케줄러
- [x] Pro 플랜: 매주 월요일 오전 9시 (KST)
- [x] Premium 플랜: 매일 오전 9시 (KST)
- [x] 서버 시작 시 자동 실행
- [x] 모든 구독자에게 자동 리포트 생성

### 4. 리포트 열람 페이지
- [x] /reports 라우트 추가
- [x] 구독 기반 접근 제어
- [x] 리포트 목록 표시
- [x] Markdown 렌더링 (Streamdown)
- [x] Pro/Premium 배지 표시
- [x] 빈 상태 UI (리포트 없을 때)

### 5. 구독 플랜 설명 업데이트
- [x] "실시간 알림" 제거
- [x] AI 리포트 혜택 강조
- [x] Pro vs Premium 차이점 명확화
- [x] 주간 vs 일간 리포트 설명

### 6. 테스트 및 배포
- [ ] 리포트 생성 테스트
- [ ] 구독 기반 접근 제어 테스트
- [ ] 스케줄러 동작 테스트
- [ ] 체크포인트 저장
- [ ] GitHub 푸시 및 배포

---

## Phase 68: 최종 테스트 및 배포

### 1. 전체 기능 테스트
- [ ] 티커 표시 기능 테스트
- [ ] ETF 검색 기능 테스트
- [ ] 포트폴리오 분석 기능 테스트
- [ ] AI 리포트 생성 테스트
- [ ] 구독 결제 테스트

### 2. 성능 최적화
- [ ] DB 쿼리 최적화
- [ ] 이미지 로딩 최적화
- [ ] 캐싱 전략 구현

### 3. 배포
- [ ] 체크포인트 저장
- [ ] GitHub 푸시
- [ ] Vercel 재배포
- [ ] 프로덕션 테스트
- [ ] AI 리포트 구독 시스템 테스트
- [ ] 전체 UI/UX 점검

### 2. 성능 최적화
- [ ] 데이터베이스 쿼리 최적화
- [ ] 프론트엔드 번들 크기 최적화
- [ ] 이미지 최적화

### 3. 최종 배포
- [ ] 체크포인트 저장
- [ ] GitHub 푸시
- [ ] Vercel 재배포
- [ ] 배포 URL 확인

---

## Phase 69: 언급 횟수 표시 + 업데이트 시간 수정 + 전날 데이터 크롤링 + Free 플랜 제한 + AI 리포트 차등화

### 1. 언급 횟수 N회 표시
- [ ] 종목별 전문가 언급 횟수 집계 로직 추가
- [ ] StockCard에 "언급 N회" 표시
- [ ] DB에서 stockTweets 카운트 쿼리 추가

### 2. 업데이트 시간 표시 수정
- [ ] "5분마다 업데이트" → "24시간마다 업데이트"로 변경
- [ ] NEXT UPDATE 타이머 제거 또는 "내일 새벽 3시" 표시

### 3. 전날 데이터 즉시 크롤링
- [ ] 어제 날짜 기준으로 Twitter 크롤링 실행
- [ ] 어제 날짜 기준으로 YouTube 크롤링 실행
- [ ] 크롤링 진행 상황 모니터링

### 4. Free 플랜 7일 제한 + 모바일 차단
- [ ] Free 플랜 가입 시 7일 만료일 자동 설정
- [ ] 만료일 체크 미들웨어 추가
- [ ] 모바일 접속 차단 로직 (User-Agent 체크)
- [ ] 만료/차단 시 업그레이드 안내 페이지

### 5. AI 리포트 차등화
- [ ] Pro 플랜: 일간 요약 리포트 (종목 TOP 10 + 간단한 분석)
- [ ] Premium 플랜: 상세 리포트 (종목 분석 + 전문가 의견 + 투자 전략)
- [ ] 리포트 생성 스크립트 작성
- [ ] 이메일 발송 스케줄러 추가

### 6. 체크포인트 저장 및 배포
- [x] 언급 횟수 표시 (이미 구현됨)
- [x] "24시간마다 업데이트" 텍스트 변경
- [x] Free 플랜 7일 제한 + 모바일 차단
- [x] 어제 데이터 크롤링 스크립트 실행 (백그라운드)
- [ ] AI 리포트 샘플 페이지 trending 데이터 구조 문제 수정
- [ ] 전체 기능 테스트
- [ ] 체크포인트 저장
- [ ] GitHub 푸시


## Phase 70: ETF 보유종목 데이터 수집 구현

### 1. DB 스키마 추가
- [x] etf_holdings 테이블 생성 (etf_ticker, stock_ticker, weight, shares, company_name)
- [x] 스키마 마이그레이션 실행

### 2. LLM 기반 ETF 데이터 수집
- [x] LLM 기반 ETF 보유종목 수집 스크립트 작성
- [x] 주요 ETF 10개 리스트 정의 (SPY, QQQ, VOO, VTI, IWM, XLK, XLF, XLE, XLV, ARKK)
- [x] 보유종목 데이터 파싱 및 DB 저장 (10 ETFs xd7 20 holdings = 200개)

### 3. 주간 자동 수집 스케줄러
- [x] 주 1회 자동 수집 스케줄러 추가 (매주 월요일 새벽 2시)
- [x] 에러 핸들링 및 로깅

### 4. tRPC API 업데이트
- [x] getETFHoldings API 실제 DB 연동 (이미 구현됨)
- [x] 검색 결과 반환 로직 구현

### 5. 테스트 및 배포
- [x] ETF 데이터 수집 테스트 (10/10 성공)
- [x] DB 데이터 확인 (200개 보유종목)
- [ ] ETF 검색 페이지 UI 테스트
- [ ] 체크포인트 저장
- [ ] GitHub 푸시


## Phase 71: ETF 보유종목 시가총액 실시간 계산

### 1. Yahoo Finance API 연동
- [x] Yahoo Finance API로 종목별 시가총액 조회
- [x] ETF 비율 xd7 시가총액 계산 로직 추가
- [x] getMultipleStockQuotes 함수 활용

### 2. tRPC API 수정
- [x] getETFHoldings API에 시가총액 계산 로직 통합
- [x] 실시간 데이터 반환 (marketCap, currentPrice, marketValue)

### 3. 테스트 및 배포
- [x] ETFAnalyzer 페이지 시가총액 표시 수정 (T/B/M 단위)
- [ ] 체크포인트 저장
- [ ] GitHub 푸시


## 버그 수정: ETF 시가총액 표시 안됨 (비율만 표시하도록 변경)
- [x] Yahoo Finance API 문제 확인 (API 차단됨)
- [x] ETF Analyzer UI에서 시가총액/보유주식수 컴럼 제거
- [x] 비율(%) 컴럼만 표시하도록 UI 수정
- [x] routers.ts에서 getMultipleStockQuotes API 호출 제거
- [ ] 테스트 및 체크포인트 저장


## Phase 72: AI 리포트 시스템 구현

### 1. 구독 플랜 설명 수정
- [ ] Subscription 페이지에서 "실시간 알림" 제거
- [ ] 리포트 중심으로 메리트 재작성
  - Free: AI 리포트 미제공
  - Pro: 주간 AI 리포트 (간단한 요약, 1-2페이지)
  - Premium: 일간 심층 AI 리포트 (상세 분석, 3-5페이지)

### 2. AI 리포트 DB 스키마 생성
- [ ] `aiReports` 테이블 생성 (id, userId, planType, content, createdAt)
- [ ] DB 마이그레이션 실행

### 3. AI 리포트 생성 로직 구현
- [ ] Pro 플랜 리포트 생성 함수 (주간, 간단)
- [ ] Premium 플랜 리포트 생성 함수 (일간, 상세)
- [ ] trending 데이터 기반 리포트 내용 생성

### 4. 리포트 열람 페이지 생성
- [ ] `/reports` 페이지 생성
- [ ] 구독 플랜별 접근 제한
- [ ] 리포트 목록 및 상세 보기

### 5. 자동 리포트 생성 스케줄러
- [ ] Pro: 매주 월요일 오전 9시 리포트 생성
- [ ] Premium: 매일 오전 9시 리포트 생성
- [ ] 생성된 리포트 DB 저장

### 6. 테스트 및 배포
- [ ] 리포트 생성 테스트
- [ ] 권한 체크 테스트
- [ ] 체크포인트 저장
- [ ] GitHub 푸시


## Phase 72: GitHub 푸시 및 Vercel 배포 + 데이터 수집 문제 해결

### 1. 현재 데이터 수집 상태 확인
- [ ] stockTweets 테이블 데이터 개수 확인
- [ ] 마지막 크롤링 시간 확인
- [ ] 스케줄러 동작 상태 확인
- [ ] 데이터 수집 실패 원인 진단

### 2. GitHub 푸시
- [x] 최신 코드 커밋
- [x] GitHub 저장소에 푸시
- [x] 푸시 성공 확인

### 3. Vercel 배포 및 테스트
- [x] CORS 설정 업데이트
- [x] 환경변수 가이드 작성
- [x] GitHub 푸시
- [ ] Vercel 환경변수 설정 (사용자 진행 중)
- [ ] Vercel 재배포
- [ ] 배포 성공 확인
- [ ] 프론트엔드 동작 테스트
- [ ] API 연결 테스트

### 4. 데이터 수집 문제 해결
- [x] Twitter 크롤링 완료 (30개 트윗 저장)
- [x] YouTube 크롤링 에러 수정
- [x] YouTube 크롤링 재시작 (5/10 진행 중)
- [x] 데이터 저장 확인 (135개 데이터)

### 5. 최종 테스트
- [ ] Vercel 환경변수 설정 (사용자 진행 필요)
- [ ] Vercel 재배포
- [ ] 홈페이지에서 데이터 표시 확인
- [ ] AI 리포트 페이지 테스트
- [ ] 구독 페이지 테스트
- [ ] ETF 분석기 테스트

## Phase 73: Manus 백엔드와 Vercel 프론트엔드 분리 배포

### 1. Manus 백엔드 설정
- [ ] 백엔드 영구 URL 확인
- [ ] CORS 설정 최종 확인
- [ ] 백엔드 상태 모니터링 설정

### 2. Vercel 프론트엔드 설정
- [ ] VITE_API_URL을 영구 백엔드 URL로 변경
- [ ] 환경변수 업데이트
- [ ] 재배포 트리거

### 3. 배포 테스트
- [ ] 홈페이지 로드 확인
- [ ] /subscription 페이지 테스트
- [ ] /reports 페이지 테스트
- [ ] /etf 페이지 테스트
- [ ] API 연결 확인

### 4. 문서화
- [ ] 배포 가이드 작성
- [ ] 환경변수 문서 업데이트
- [ ] README 업데이트


## Phase 74: 구독 차등화 강화 및 온디맨드 리포트

### 1. 구독 플랜 차등화 전략
- [ ] Free: 기본 트렌드만 (AI 리포트 없음)
- [ ] Pro: 주간 AI 리포트 + 온디맨드 3회/월
- [ ] Premium: 일간 AI 리포트 + 온디맨드 무제한

### 2. 온디맨드 AI 리포트 시스템
- [ ] 리포트 요청 API 구현
- [ ] 사용 횟수 추적 (Pro: 3회/월)
- [ ] 리포트 생성 큐 시스템
- [ ] 리포트 히스토리 저장

### 3. 카카오톡 연결
- [ ] 구독 버튼 → 카카오톡 오픈채팅 연결
- [ ] URL: https://open.kakao.com/o/sfOuaU0h
- [ ] 구독 페이지 UI 수정

### 4. 추가 기능
- [ ] 리포트 다운로드 (PDF)
- [ ] 리포트 공유 기능
- [ ] 사용 통계 대시보드
